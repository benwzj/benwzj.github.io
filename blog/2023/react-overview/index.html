<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>React Overview with Function Component | BEN WEN</title> <meta name="author" content="Ben Wen"> <meta name="description" content="A website to show the world of Ben Wen "> <meta name="keywords" content="jekyll, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/mdb.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link defer rel="stylesheet" href="/assets/css/bootstrap-table.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/all.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/academicons.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/github.css?d41d8cd98f00b204e9800998ecf8427e" media="" id="highlight_theme_light"> <link rel="icon" href="/assets/img/favicon.png"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://benwzj.github.io/blog/2023/react-overview/"> <link rel="stylesheet" href="/assets/css/native.css?d41d8cd98f00b204e9800998ecf8427e" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">BEN WEN</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/about/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Resume</a> </li> <li class="nav-item"> <a class="nav-link" href="https://github.com/benwzj" rel="external nofollow noopener" target="_blank"> GitHub <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="width:1rem;height:1rem;fill:currentColor"> <g data-name="Layer 2"><g data-name="external-link"> <rect width="24" height="24" opacity="0"></rect> <path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"></path> <path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"></path> </g></g> </svg> </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="post col-sm-9"> <h1 class="post-title">React Overview with Function Component</h1> <br> <br> <article class="post-content"> <div id="markdown-content"> <p>React allows you to write maintainable and performant code by using concept of component. Components allow you to focus on describing the UI you want, rather than focusing on the details of how the UI actually gets inserted in the page.</p> <h2 id="react-rules">React Rules</h2> <h3 id="component-rules">Component Rules</h3> <ul> <li>Keeping Components Pure.</li> <li>Only call Hooks at the top level.</li> <li>If you can, update all the relevant state in the event handlers.</li> <li>If you want to reset the entire component tree’s state, pass a <strong>different key</strong> <code class="language-plaintext highlighter-rouge">prop</code> to your component.</li> <li>In Strict Mode, React will call some of your functions twice instead of once.</li> </ul> <h3 id="event-rules">Event Rules</h3> <ul> <li>All events <strong>propagate</strong> (or calling bubbles) in React except <code class="language-plaintext highlighter-rouge">onScroll</code>, which only works on the JSX tag you attach it to. But you can prevent an event from reaching parent component by calling <code class="language-plaintext highlighter-rouge">e.stopPropagation()</code>. On the other hand, <code class="language-plaintext highlighter-rouge">onClickCapture</code> is special event, React will travels down, calling all onClickCapture handlers.</li> <li>Some browser events have default behavior associated with them. For example, a <code class="language-plaintext highlighter-rouge">&lt;form&gt;</code> submit event, which happens when a button inside of it is clicked, will reload the whole page by default. Calling <code class="language-plaintext highlighter-rouge">e.preventDefault()</code> to prenvent this happen.</li> </ul> <h2 id="component-life-cycle">Component life cycle</h2> <p>Every React component goes through the same lifecycle:</p> <ul> <li>A component <strong>mounts</strong> when it’s added to the screen.</li> <li>A component <strong>updates</strong> when it receives new props or state, usually in response to an interaction.</li> <li>A component <strong>unmounts</strong> when it’s removed from the screen.</li> </ul> <h3 id="render-vs-mount-vs-re-render">Render vs. Mount vs. Re-render</h3> <ul> <li>“Rendering” is any time a function component gets called (or a class-based render method gets called) which returns a set of instructions for creating DOM.</li> <li>“Mounting” is when React “renders” the component for the first time and actually builds the initial DOM from those instructions.</li> <li>A “re-render” is when React calls the function component again to get a new set of instructions on an already mounted component.</li> </ul> <h2 id="basic-concepts">Basic Concepts</h2> <p>React Component, React Instance, React Element, JSX.Element vs ReactNode vs ReactElement</p> <h3 id="components-encapsulate-element-trees">Components Encapsulate Element Trees</h3> <p>For a React component, props are the input, and an element tree is the output.</p> <p>The returned element tree can contain both elements describing DOM nodes, and elements describing other components. This lets you compose independent parts of UI without relying on their internal DOM structure.</p> <p>whether functions or classes, fundamentally they are all components to React. They take the props as their input, and return the elements as their output.</p> <h3 id="react-instances">React Instances</h3> <blockquote> <p>React instance is just a concept. React manage the component states exactly according to the component <strong>position</strong> in the render tree.</p> </blockquote> <p>React create, update, and destroy instances. Developer don’t interact with instances. <strong>React describe instances with elements returned from the components</strong>, and React takes care of managing the instances.</p> <p>When the props or states change, the returned element will update the instancce, which is maintained cross render so we still have the same opponent instance.</p> <h4 id="list-component">list component</h4> <p>We usually use <code class="language-plaintext highlighter-rouge">Array.map()</code> to list content component. This require mark <code class="language-plaintext highlighter-rouge">key</code> prop for every list component. When causing re-render, <code class="language-plaintext highlighter-rouge">Array.map()</code> will run and recaculate all the list components. In this situation, the List component still can use useState() to store it’s states! It just like other components, in re-render, React won’t remove it and create a new component instance, React still manage the state snapshot of all list component instances.</p> <h3 id="what-is-react-element">What is React Element</h3> <p>Unlike browser DOM elements, React elements are plain objects, and are <strong>cheap</strong> to create. React DOM takes care of updating the DOM to match the React elements.</p> <p>React Element example:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">React</span><span class="o">&lt;</span><span class="sr">/p&gt;</span><span class="err">;
</span><span class="p">};</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nc">App</span><span class="p">());</span>
</code></pre></div></div> <p>Then you can get React element object:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nx">$$typeof</span><span class="p">:</span> <span class="nc">Symbol</span><span class="p">(</span><span class="nx">react</span><span class="p">.</span><span class="nx">element</span><span class="p">)</span>
  <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">p</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">key</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">ref</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">props</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">children</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Hello React</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">_owner</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">_store</span><span class="dl">"</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div></div> <blockquote> <p>React Elements are just used for Describing the Tree</p> </blockquote> <p>In React, An element contains only information about the component type (for example, a Button), its properties (for example, its color), and any child elements inside it.</p> <p>DOM tags: <code class="language-plaintext highlighter-rouge">const element = &lt;h1&gt;Hello, world&lt;/h1&gt;;</code> User-defined components. <code class="language-plaintext highlighter-rouge">const element = &lt;Welcome name='sara' /&gt;;</code> React calls its <code class="language-plaintext highlighter-rouge">React.createElement()</code> method internally which returns React Element.</p> <p>An element is not an actual instance. Rather, it is a way to tell React what you want to see on the screen. It’s just an immutable description object with fields like: <code class="language-plaintext highlighter-rouge">type: (string | ReactClass)</code> and <code class="language-plaintext highlighter-rouge">props: Object</code>.</p> <ul> <li>DOM Elements: type is string, it represents a DOM node with that tag name, and props correspond to its attributes. They don’t refer to anything on the screen when you create them.</li> <li>React Elements are easy to traverse, don’t need to be parsed, and of course they are much lighter than the actual DOM elements—they’re just objects!</li> <li>Component Elements: the type of an element can also be a function or a class corresponding to a React component.</li> </ul> <p>An element describing a component is also an element, just like an element describing the DOM node. They can be nested and mixed with each other.</p> <h3 id="react-component-vs-react-element-vs-component-instance">React component vs. React element vs. component instance</h3> <ul> <li>Rendering a component happens whenever we use this component as a React element with angle brackets (e.g.<code class="language-plaintext highlighter-rouge"> &lt;Greeting /&gt;</code>) in another component: <code class="language-plaintext highlighter-rouge">const this_is_element = &lt;ThisIsComponent /&gt;</code> </li> <li>Whenever a component gets rendered as element, React create an instance of this component.</li> <li>While a React Component is the one time declaration of a component, it can be used once or multiple times as React Element in JSX (React’s createElement method).</li> </ul> <h3 id="html-element-vs-react-element">HTML element vs. React element</h3> <p>HTML elements (or call DOM elements) are created by tag, like<code class="language-plaintext highlighter-rouge"> &lt;div&gt; &lt;a&gt;</code> etc. React elements are plain objects.</p> <h3 id="web-component-vs-react-component">Web component vs. React component</h3> <ul> <li>Web component and React component are in different scope. Web Component is a web technology, that means it is a specification of w3c. While React component is a concept in React.</li> <li>Web Components are custom elements that you can define and reuse in your Web apps.</li> <li>React and Web Components are built to solve different problems. Web Components provide strong encapsulation for reusable components, while React provides a declarative library that keeps the DOM in sync with your data. The two goals are complementary. You can use React in your Web Components, or to use Web Components in React.</li> </ul> <h2 id="react-under-hood">React Under Hood</h2> <h3 id="renderer">Renderer</h3> <p>The renderer is the part of the React ecosystem responsible for displaying React components on specific platforms (Web, Mobile, CLI). There are three officially supported renderers: React Dom, React Native, and React Test. In addition, there are MANY custom renderers.</p> <h3 id="reconciliation">Reconciliation</h3> <p>React’s diffing algorithm is called reconciliation.</p> <p>Underneath, all renderers share some common logic. That shared part is encapsulated in the Reconciler. This is the core algorithm that is independent from any platform. Earlier versions of React were powered by the so-called Stack Reconciler. It has been in use up to version 15 of React. With the release of React 16, we received a greatly improved reconciler algorithm, the Fiber Reconciler.</p> <h3 id="keys">keys</h3> <p>Keys is a way which can help React Reconciliation algorithm to solve the inefficiency issue. Especially in list items.</p> <p>Keys should be stable, predictable, and unique. Unstable keys (like those produced by Math.random()) will cause many component instances and DOM nodes to be unnecessarily recreated, which can cause performance degradation and lost state in child components.</p> <p>Finding a key for component:</p> <ul> <li>The element you are going to display may already have a unique ID.</li> <li>you can add a new ID property to your model or hash some parts of the content to generate a key. The key only has to be unique among its siblings, not globally unique.</li> <li>As a last resort, you can pass an item’s index in the array as a key. This can work well if the items are never reordered, but reorders will be slow.</li> </ul> <h3 id="refs">refs</h3> <p>Refs provide a way to access DOM nodes or React elements created in the render method.</p> <h2 id="react-frameworks">React frameworks</h2> <p>If you want to build a new app or a new website fully with React, React reommend to use frameworks. Like NextJS, Remix, etc.</p> <h3 id="why-frameworks">Why Frameworks</h3> <p>If you just want to run React, then what you need just grab <code class="language-plaintext highlighter-rouge">react</code> and <code class="language-plaintext highlighter-rouge">react-dom</code> from npm. But as a Web App, it still need <strong>routing</strong>, <strong>data fetching</strong>, and <strong>generating HTML</strong> for good performance. Frameworks provide features that most apps and sites eventually need, including routing, data fetching, and generating HTML.</p> <ul> <li> <strong>Create React App (CRA)</strong> ,is an officially supported way to create single-page React applications. It offers a modern build setup with no configuration. Usually, we use CRA to start React app. But React reommend to use framework, like NextJS, to build app. And React work as dependence.</li> <li> <strong>NextJS</strong> is a full-stack React framework, provides server-side rendering (SSR).</li> <li> <strong>Remix</strong> is a full-stack React framework with nested routing.</li> <li> <strong>Gatsby</strong> is a React framework for fast CMS-backed websites.</li> <li> <strong>Expo</strong> (for native apps) is a React framework that lets you create universal Android, iOS, and web apps with truly native UIs.</li> </ul> <h2 id="hooks">Hooks</h2> <p><strong>eslint-plugin-react-hooks</strong>, This ESLint plugin enforces the Rules of Hooks.</p> <h3 id="what-is-hooks">What is hooks</h3> <ul> <li>Hooks are functions that let you ‘hook into’ React state and lifecycle features from function components.</li> <li>They let you use state and other React features without writing a class.</li> <li>React provides a few built-in Hooks like useState. You can also create your own Hooks to reuse stateful behavior between different components.</li> <li>Hooks are JavaScript functions, but they impose two additional rules: <ul> <li>Only call Hooks at the top level. Don’t call Hooks inside loops, conditions, or nested functions.</li> <li>Only call Hooks from React function components. Don’t call Hooks from regular JavaScript functions.</li> </ul> </li> <li>We have two basic Hooks: <code class="language-plaintext highlighter-rouge">useState</code>, <code class="language-plaintext highlighter-rouge">useEffect</code>.</li> <li>Other Hooks like: <code class="language-plaintext highlighter-rouge">useMemo</code>, <code class="language-plaintext highlighter-rouge">useCallback</code>, <code class="language-plaintext highlighter-rouge">useContext</code>, <code class="language-plaintext highlighter-rouge">useRef</code>, <code class="language-plaintext highlighter-rouge">useReducer</code>, etc.</li> </ul> <h3 id="why-hooks">Why hooks</h3> <p>When the components are geting bigger and bigger. there are lots of wrapper, from class components. And stateful logic and side effects get MESS!</p> <ul> <li>Facebook React team think : <ol> <li>React needs a better primitive for sharing stateful logic.</li> <li>They even think classes can be a large barrier to learning React.</li> <li>the lifesycle methods make componet hard to split to smaller components.</li> <li>some case it is impossible to break the component into small components because the stateful logic is all over the place.</li> </ol> </li> <li>To solve these problems, Hooks let you use more of React’s features without classes.</li> <li>use hooks is easy to reuse stateful logic. it is much easier then class components.</li> </ul> <h3 id="no1-usestate-">NO.1 useState ()</h3> <p>just like class conponent state! We call it inside a function component to add some local state to it. React will preserve this state between re-renders.</p> <h3 id="no2-useeffect">NO.2 useEffect()</h3> <p>When you call useEffect, you are telling React to run your ‘effect’ function after flushing changes to the DOM. The second argument of <code class="language-plaintext highlighter-rouge">useEffect()</code> will decide whether the first argument ( which is a function ) is being called or not.</p> <h3 id="usecallback">useCallback()</h3> <p>Returns a memoized callback.</p> <p><code class="language-plaintext highlighter-rouge">useCallback()</code> often is used in conjunction with <code class="language-plaintext highlighter-rouge">useEffect()</code> because it allows you to prevent the re-creation of a function. For this, it’s important to understand that functions are just objects in JavaScript.</p> <p>In a functional component, any function you define inside of it is re-created whenever the component rebuilds. Normally it is no problem, that innerFunction re-created for every render cycle. But it become a problem if the innerFunction become a dependency of <code class="language-plaintext highlighter-rouge">useEffect()</code>. If innerFunction cause component rebuild, then it will infinite loop.<br> Use <code class="language-plaintext highlighter-rouge">useCallback()</code> can prevent that happen.</p> <ul> <li> <code class="language-plaintext highlighter-rouge">useCallback(fn, deps)</code> is equivalent to <code class="language-plaintext highlighter-rouge">useMemo(() =&gt; fn, deps)</code>.</li> <li> <code class="language-plaintext highlighter-rouge">useCallback</code> will return a memoized version of the callback that only changes if one of the dependencies has changed.</li> <li>This is useful when passing callbacks to optimized child components that rely on reference equality to prevent unnecessary renders .</li> </ul> <h3 id="usereducer">useReducer()</h3> <p>An alternative to <code class="language-plaintext highlighter-rouge">useState()</code>. UseReducer is usually preferable to useState when you have complex state logic that involves multiple sub-values or when <strong>the next state depends on the previous one</strong>.</p> <p><code class="language-plaintext highlighter-rouge">const [state, dispatch] = useReducer(reducer, initialArg, init);</code></p> <ul> <li>state: it is you data.</li> <li>Dispatch: like Redux‘s <code class="language-plaintext highlighter-rouge">dispatch ()</code>, dispatch action to <code class="language-plaintext highlighter-rouge">reducer()</code> function.</li> <li>Reducer: it is a function to handle state data according to action.</li> <li>InitialArg: initial state. This way is slightly different from Redux. It is specified by hook call.</li> <li>init: optional function argument, to initialise initial state.</li> </ul> <p>React guarantees that dispatch function identity is stable and won’t change on re-renders. This is why it’s safe to omit from the <code class="language-plaintext highlighter-rouge">useEffect</code> or <code class="language-plaintext highlighter-rouge">useCallback</code> dependency list.</p> <h2 id="what-rendering-means-in-react">What Rendering means in React</h2> <p>Before your components are displayed on screen, they must be rendered by React.</p> <p>There are 3 steps for the whole rendering process:</p> <ol> <li>Triggering a render.</li> <li><strong>Rendering the component.</strong></li> <li>Committing to the DOM.</li> </ol> <h4 id="step-1-trigger-a-render">Step 1: Trigger a render</h4> <p>There are two reasons for a component to render:</p> <ul> <li>It’s the component’s initial render. By calling <code class="language-plaintext highlighter-rouge">createRoot</code> with the target DOM node, and then calling its render method with the component.</li> <li>The component’s (or one of its ancestors’) state has been updated. Updating the component’s state automatically queues a render. When prop or context be changed, it cause re-render as well.</li> </ul> <h4 id="step-2-react-renders-your-components">Step 2: React renders your components</h4> <blockquote class="block-warning"> <p>‘Rendering’ is React calling your components.</p> </blockquote> <ul> <li>On initial render, React will call the root component.</li> <li>For subsequent renders, React will call the function component whose state update triggered the render.</li> </ul> <blockquote class="block-warning"> <p>The default behavior of rendering will render all components nested within the updated component.</p> </blockquote> <p>This might be not optimal for performance if the updated component is very high in the tree.</p> <h4 id="step-3-react-commits-changes-to-the-dom">Step 3: React commits changes to the DOM</h4> <p>After rendering (calling) your components, React will modify the DOM.</p> <ul> <li>For the initial render, React will use the appendChild() DOM API to put all the DOM nodes it has created on screen.</li> <li>For re-renders, React will apply the minimal necessary operations (calculated while rendering!) to make the DOM match the latest rendering output.</li> </ul> <p>React only changes the DOM nodes if there’s a difference between renders.</p> <p>After rendering is done and React updated the DOM, the browser will repaint the screen. Although this process is known as “browser rendering”, we’ll refer to it as “painting” to avoid confusion with React rendering.</p> <h2 id="inverse-data-flow">Inverse Data Flow</h2> <p>This is a very common thing you will do in your React App. When you design your app structure, you may prefer to put your <code class="language-plaintext highlighter-rouge">state</code> in parent component, and it’s children component can easily get <code class="language-plaintext highlighter-rouge">state</code>. And if the children component change the <code class="language-plaintext highlighter-rouge">state</code>, you just simply pass the <code class="language-plaintext highlighter-rouge">setState()</code> handler to children. The children then use <code class="language-plaintext highlighter-rouge">setState())</code> handler to change <code class="language-plaintext highlighter-rouge">state</code>. This is called Iverse Data Flow.</p> <blockquote class="block-warning"> <h5 id="the-definition">The Definition:</h5> <p>To communicate from a child to a parent component we can pass a function handler from parent to child.</p> </blockquote> <p>Let’s take a look the example. Whenever the user clicks on the button, it tries to call a function passed down to it through the props system.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">Child</span><span class="p">({</span> <span class="nx">onFunctionFromParent</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">onFunctionFromParent</span><span class="p">(</span><span class="dl">'</span><span class="s1">i am very good!</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
 
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Click</span> <span class="nx">Here</span><span class="o">!&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span><span class="p">}</span>
</code></pre></div></div> <p>To use this component and be told when a user clicks the button</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">Parent</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">handleMessageFromChild</span> <span class="o">=</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">message from child is </span><span class="dl">"</span><span class="o">+</span> <span class="nx">message</span><span class="p">)</span>
  <span class="p">}</span>
 
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Child</span> <span class="nx">onFunctionFromParent</span><span class="o">=</span><span class="p">{</span><span class="nx">handleMessageFromChild</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span><span class="p">}</span>
</code></pre></div></div> <h2 id="fqa">FQA</h2> <h3 id="what-is-root-component">What is Root component</h3> <p>The React application begins at a “root” component. Usually, it is created automatically when you start a new project. For example, if you use CodeSandbox or if you use the framework Next.js, the root component is defined in pages/index.js.</p> <h3 id="what-is-defining-a-component">What is Defining a component</h3> <p>React components are regular JavaScript functions, but their names must start with a capital letter or they won’t work! React don’t recommend to use Class components for new code.</p> <h3 id="what-is-export-default">What is <code class="language-plaintext highlighter-rouge">export default</code> </h3> <p>The <code class="language-plaintext highlighter-rouge">export default</code> prefix lets you mark the main function in a file so that you can later import it from other files.</p> <h3 id="react-is-declarative-ui-programming">React is declarative UI programming</h3> <p>In imperative programming, the above corresponds directly to how you implement interaction. You have to write the exact instructions to manipulate the UI depending on what just happened.</p> <p>In React, declarative UI programming, you don’t directly manipulate the UI—meaning you don’t enable, disable, show, or hide components directly. Instead, you declare what you want to show, and React figures out how to update the UI.</p> <p><code class="language-plaintext highlighter-rouge">state</code> is the key for React to implement declarative programming.</p> <ol> <li>Identify your component’s different visual states</li> <li>Determine what triggers those state changes</li> <li>Represent the state in memory using useState</li> <li>Remove any non-essential state variables</li> <li>Connect the event handlers to set the state</li> </ol> <h3 id="strict-mode">Strict Mode</h3> <p>React Strict Mode lets you find common bugs in your components early during development.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">StrictMode</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="sr">/StrictMode</span><span class="err">&gt;
</span></code></pre></div></div> <p>If you are using <code class="language-plaintext highlighter-rouge">Next.js</code> or <code class="language-plaintext highlighter-rouge">create-react-app</code> to create your React app. Strict Mode is enabled by default.</p> <p>Strict Mode enables the following checks in development:</p> <ul> <li>Your components will re-render an extra time to find bugs caused by impure rendering.</li> <li>Your components will re-run Effects an extra time to find bugs caused by missing Effect cleanup.</li> <li>Your components will be checked for usage of deprecated APIs. All of these checks are development-only and do not impact the production build.</li> </ul> <p>You can turn off Strict Mode to opt out of the development behavior.</p> </div> </article> </div> <div class="col-sm-3 post-side-container"> <div class="card hoverable post-side-sticky"> <div class="card-body post-side-detail"> <h5 class="card-title">Post Detail</h5> <div class="detail-item"> <div class="item-title">Published : </div> <div class="item-content">Oct 12, 2023</div> </div> <div class="detail-item"> <div class="item-title">Category : </div> <div class="item-content"> <a href="/blog/category/react"> <i class="fas fa-tag fa-sm"></i> React</a> </div> </div> <div class="detail-item"> <div class="item-title">Tags : </div> </div> <div class="tags"> <a href="/blog/tag/react"> <div class="tag"> React </div> </a> <a href="/blog/tag/web-page"> <div class="tag"> Web-page </div> </a> <a href="/blog/tag/redux"> <div class="tag"> Redux </div> </a> </div> <div class="detail-item"> <div class="item-title">Content : </div> </div> <div class="toc-container"> <div class="toc-item"> <a href="#react-rules"> # React Rules </a> </div> <div class="toc-item"> <a href="#component-life-cycle"> # Component life cycle </a> </div> <div class="toc-item"> <a href="#basic-concepts"> # Basic Concepts </a> </div> <div class="toc-item"> <a href="#react-under-hood"> # React Under Hood </a> </div> <div class="toc-item"> <a href="#react-frameworks"> # React frameworks </a> </div> <div class="toc-item"> <a href="#hooks"> # Hooks </a> </div> <div class="toc-item"> <a href="#what-rendering-means-in-react"> # What Rendering means in React </a> </div> <div class="toc-item"> <a href="#inverse-data-flow"> # Inverse Data Flow </a> </div> <div class="toc-item"> <a href="#fqa"> # FQA </a> </div> </div> </div> </div> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Ben Wen. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="/assets/js/jquery.min.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="/assets/js/tex-mml-chtml.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>