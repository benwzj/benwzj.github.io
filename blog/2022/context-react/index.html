<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>All About Context in React | BEN WEN</title> <meta name="author" content="Ben Wen"> <meta name="description" content="A website to show the world of Ben Wen "> <meta name="keywords" content="jekyll, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/mdb.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link defer rel="stylesheet" href="/assets/css/bootstrap-table.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/all.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/academicons.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/github.css?d41d8cd98f00b204e9800998ecf8427e" media="" id="highlight_theme_light"> <link rel="icon" href="/assets/img/favicon.png"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://benwzj.github.io/blog/2022/context-react/"> <link rel="stylesheet" href="/assets/css/native.css?d41d8cd98f00b204e9800998ecf8427e" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> <style>html{scroll-behavior:smooth}</style> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">BEN WEN</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/about/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Resume</a> </li> <li class="nav-item"> <a class="nav-link" href="https://github.com/benwzj" rel="external nofollow noopener" target="_blank"> GitHub <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="width:1rem;height:1rem;fill:currentColor"> <g data-name="Layer 2"><g data-name="external-link"> <rect width="24" height="24" opacity="0"></rect> <path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"></path> <path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"></path> </g></g> </svg> </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="post col-sm-9"> <h1 class="post-title">All About Context in React</h1> <br> <br> <article class="post-content"> <div id="markdown-content"> <h2 id="overview">Overview</h2> <p>Usually, you will pass information from a parent component to a child component via props. And if you can use props to solve the problems, use props. <strong>BUT</strong> using Context is necessary in some cases.</p> <p>For example:</p> <ul> <li> <strong>Theming</strong>: If your app lets the user change its appearance (e.g. dark mode), you can put a context provider at the top of your app, and use that context in components that need to adjust their visual look.</li> <li> <strong>Current account</strong>: Many components might need to know the currently logged in user. Putting it in context makes it convenient to read it anywhere in the tree. Some apps also let you operate multiple accounts at the same time (e.g. to leave a comment as a different user). In those cases, it can be convenient to wrap a part of the UI into a nested provider with a different current account value.</li> <li> <strong>Routing</strong>: Most routing solutions use context internally to hold the current route. This is how every link “knows” whether it’s active or not. If you build your own router, you might want to do it too.</li> <li> <strong>Managing state</strong>: As your app grows, you might end up with a lot of state closer to the top of your app. Many distant components below may want to change it. It is common to use a reducer together with context to manage complex state and pass it down to distant components without too much hassle.</li> </ul> <h2 id="what-is-context">What is Context</h2> <p>Context is an alternative to passing props. Context lets the parent component make some information available to any component in the tree below it without passing it explicitly through props.</p> <p>Context is not limited to static values. If you pass a different value on the next render, React will update all the components reading it below! This is why context is often used in combination with state.</p> <h3 id="lets-sum-up-first">Let’s Sum Up First</h3> <ul> <li>Context lets a component provide some information to the entire tree below it.</li> <li>To pass context: <ul> <li>Create and export it with <code class="language-plaintext highlighter-rouge">export const MyContext = createContext(defaultValue)</code>.</li> <li>Pass it to the <code class="language-plaintext highlighter-rouge">useContext(MyContext)</code> Hook to read it in any child component, no matter how deep.</li> <li>Wrap children into <code class="language-plaintext highlighter-rouge">&lt;MyContext.Provider value={...}&gt;</code> to provide it from a parent.</li> </ul> </li> <li>Context passes through any components in the middle.</li> <li>Context lets you write components that “adapt to their surroundings”.</li> <li>Before you use context, try passing props or <strong>passing JSX as <code class="language-plaintext highlighter-rouge">children</code></strong>.</li> </ul> <h3 id="context-concepts">Context Concepts</h3> <p><code class="language-plaintext highlighter-rouge">createContext()</code> API, <code class="language-plaintext highlighter-rouge">Context</code> object, <code class="language-plaintext highlighter-rouge">useContext()</code> Hook.</p> <h4 id="createcontext-api">createContext() API</h4> <p>createContext lets you create a <code class="language-plaintext highlighter-rouge">context</code> that components can provide or read.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">SomeContext</span> <span class="o">=</span> <span class="nf">createContext</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">)</span>
</code></pre></div></div> <h4 id="context-object">Context object</h4> <p>Every Context object comes with a <code class="language-plaintext highlighter-rouge">Provider</code> React component that allows consuming components to subscribe to context changes. The Provider component accepts a <strong><code class="language-plaintext highlighter-rouge">value</code></strong> prop to be passed to consuming components that are descendants of this Provider. One Provider can be connected to many consumers. Providers can be nested to override values deeper within the tree. All consumers that are descendants of a Provider will re-render whenever the Provider’s value prop changes.</p> <h4 id="usecontext-hook">useContext() Hook</h4> <p>useContext is a React Hook that lets you read and subscribe to context from your component.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nf">useContext</span><span class="p">(</span><span class="nx">SomeContext</span><span class="p">)</span>
</code></pre></div></div> <p>React automatically re-renders all the children that use a particular context starting from the provider that receives a different value. The previous and the next values are compared with the <code class="language-plaintext highlighter-rouge">Object.is</code> comparison. <code class="language-plaintext highlighter-rouge">useContext()</code> always looks for the closest provider above the component that calls it. It searches upwards and does not consider providers in the component from which you’re calling useContext().</p> <h2 id="use-context">Use Context</h2> <p>Usually you create, provide, and consume context, here it is:</p> <h3 id="firstly-create-contextjs-file">Firstly, Create <code class="language-plaintext highlighter-rouge">Context.js</code> file</h3> <p>You’ll usually have one file that uses createContext and exports a Provider wrapper:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">createContext</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">Context</span> <span class="o">=</span> <span class="nf">createContext</span><span class="p">()</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">Provider</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">setState</span><span class="p">]</span> <span class="o">=</span> <span class="nf">useState</span><span class="p">({})</span>

  <span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">state</span><span class="p">,</span>
    <span class="nx">setState</span><span class="p">,</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Context</span><span class="p">.</span><span class="nx">Provider</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/Context.Provider</span><span class="err">&gt;
</span><span class="p">}</span>
</code></pre></div></div> <p>It will export <code class="language-plaintext highlighter-rouge">Context</code> and <code class="language-plaintext highlighter-rouge">Provider</code>.</p> <blockquote> <p>Usually, you will provide <strong>function handler</strong>: <code class="language-plaintext highlighter-rouge">setState</code> in value, which allow consumer to change the <code class="language-plaintext highlighter-rouge">state</code>.</p> </blockquote> <h3 id="secondly-wrap-consuming-components-in-app">Secondly, Wrap Consuming Components in App.</h3> <p>You’ll wrap whatever component needs access to the Context state with the Provider:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Provider</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./Context</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ConsumingComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./ConsumingComponent</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">Page</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Provider</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">ConsumingComponent</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="sr">/Provider</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="thirdly-build-consuming-component">Thirdly, Build Consuming Component</h3> <p>This is a way to build your Consuming Component: Using the <code class="language-plaintext highlighter-rouge">useContext</code> hook to access the data:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useContext</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Context</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./Context</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">ConsumingComponent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">state</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">useContext</span><span class="p">(</span><span class="nx">Context</span><span class="p">)</span>

  <span class="k">return</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">useContext(MyContext)</code> is equivalent to <code class="language-plaintext highlighter-rouge">static contextType = MyContext</code> in a class, or to <code class="language-plaintext highlighter-rouge">&lt;MyContext.Consumer&gt;</code>.</p> <h2 id="replace-redux">Replace Redux</h2> <p>It is not recommend, but you can do something like Redux:</p> <ol> <li>you can create a react component as a <code class="language-plaintext highlighter-rouge">store</code>. and use this component to wrap all children component which need to share information inside them.</li> <li>use <code class="language-plaintext highlighter-rouge">myContext.Provider</code> in the <code class="language-plaintext highlighter-rouge">store</code> component to wrap children components.</li> <li>design <code class="language-plaintext highlighter-rouge">state</code> as object which contain functions. Then children can use function reference to change states.</li> </ol> <p>In a very small application, you might be able to get away with just using Context for most of your global data storage needs, but in a large-scale production environment, you’re likely using Redux for global state management. Redux still provides improved performance, improved debugging capabilities, architectural consistency, the ability to use middleware. Therefore, Context is not a replacement for a proper global state management system.</p> <h2 id="important-caveat">Important Caveat</h2> <p>Context uses reference identity to determine when to re-render, there are some gotchas that could trigger unintentional renders in consumers when a provider’s parent re-renders. For example, the code below will re-render all consumers every time the Provider re-renders because a new object is always created for value.</p> <p>Class component example:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">App</span> <span class="kd">extends</span> <span class="nc">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nf">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return </span><span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">MyContext</span><span class="p">.</span><span class="nx">Provider</span> <span class="nx">value</span><span class="o">=</span><span class="p">{{</span><span class="na">something</span><span class="p">:</span> <span class="dl">'</span><span class="s1">something</span><span class="dl">'</span><span class="p">}}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Toolbar</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="sr">/MyContext.Provider</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>How to fix it? Using global reference, like <code class="language-plaintext highlighter-rouge">state</code>.</p> <h2 id="think-more-before-apply-context">Think more before apply context</h2> <p>We should apply context sparingly because it make components reuse more difficult. If you only want to avoid passing some props through many levels, <strong>component composition</strong> is often a simpler solution than context. And even <strong>render props</strong> is another option.</p> <blockquote class="block-warning"> <h5 id="inversion-of-control">Inversion of Control</h5> <p>Using component composition, you can wrap the deepest component as prop, then other components don’t need to know what is passing down. This inversion of control can make your code cleaner.</p> </blockquote> <h2 id="scaling-up-with-reducer-and-context">Scaling Up with Reducer and Context</h2> <p>Here is how you can combine a reducer with context:</p> <ol> <li>Create the context.</li> <li>Put state and dispatch into context.</li> <li>Use context anywhere in the tree.</li> </ol> <h3 id="step-1-create-the-context">Step 1: Create the context</h3> <p>You can create two separate contexts:</p> <ul> <li>TasksContext provides the current <code class="language-plaintext highlighter-rouge">state</code>.</li> <li>TasksDispatchContext provides the <code class="language-plaintext highlighter-rouge">dispatch</code> function that lets components dispatch actions. ```js import { createContext } from ‘react’;</li> </ul> <p>export const TasksContext = createContext(null); export const TasksDispatchContext = createContext(null);</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Step 2: Put state and dispatch into context 
```js
export default function TaskApp() {
  const [tasks, dispatch] = useReducer(tasksReducer, initialTasks);
  // ...
  return (
    &lt;TasksContext.Provider value={tasks}&gt;
      &lt;TasksDispatchContext.Provider value={dispatch}&gt;
        ...
      &lt;/TasksDispatchContext.Provider&gt;
    &lt;/TasksContext.Provider&gt;
  );
}
</code></pre></div></div> <h3 id="step-3-use-context-anywhere-in-the-tree">Step 3: Use context anywhere in the tree</h3> <p>You could declutter the components by moving both reducer and context into <strong>a single file</strong>.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">function</span> <span class="nf">TasksProvider</span><span class="p">({</span> <span class="nx">children</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">tasks</span><span class="p">,</span> <span class="nx">dispatch</span><span class="p">]</span> <span class="o">=</span> <span class="nf">useReducer</span><span class="p">(</span><span class="nx">tasksReducer</span><span class="p">,</span> <span class="nx">initialTasks</span><span class="p">);</span>

  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">TasksContext</span><span class="p">.</span><span class="nx">Provider</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">tasks</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">TasksDispatchContext</span><span class="p">.</span><span class="nx">Provider</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">dispatch</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/TasksDispatchContext.Provider</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/TasksContext.Provider</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <p>Now the whole app will looks like this:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">TaskApp</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">TasksProvider</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Day</span> <span class="nx">off</span> <span class="k">in</span> <span class="nx">Kyoto</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">AddTask</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">TaskList</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/TasksProvider</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="references">References</h2> <p>https://react.dev/learn/passing-data-deeply-with-context https://react.dev/reference/react/useContext https://react.dev/reference/react/createContext</p> </div> </article> </div> <div class="col-sm-3 post-side-container"> <div class="card hoverable post-side-sticky"> <div class="card-body post-side-detail"> <h5 class="card-title">Post Detail</h5> <div class="detail-item"> <div class="item-title">Published : </div> <div class="item-content">May 5, 2022</div> </div> <div class="detail-item"> <div class="item-title">Updated at : </div> <div class="item-content">Apr 9, 2024</div> </div> <div class="detail-item"> <div class="item-title">Category : </div> <div class="item-content"> <a href="/blog/category/react"> <i class="fas fa-tag fa-sm"></i> React</a> </div> </div> <div class="detail-item"> <div class="item-title">Tags : </div> </div> <div class="tags"> <a href="/blog/tag/context"> <div class="tag"> Context </div> </a> <a href="/blog/tag/redux"> <div class="tag"> Redux </div> </a> <a href="/blog/tag/react"> <div class="tag"> React </div> </a> </div> <div class="detail-item"> <div class="item-title">Content : </div> </div> <div class="toc-container"> <div class="toc-item"> <a href="#overview"> # Overview </a> </div> <div class="toc-item"> <a href="#what-is-context"> # What is Context </a> </div> <div class="toc-item"> <a href="#use-context"> # Use Context </a> </div> <div class="toc-item"> <a href="#replace-redux"> # Replace Redux </a> </div> <div class="toc-item"> <a href="#important-caveat"> # Important Caveat </a> </div> <div class="toc-item"> <a href="#think-more-before-apply-context"> # Think more before apply context </a> </div> <div class="toc-item"> <a href="#scaling-up-with-reducer-and-context"> # Scaling Up with Reducer and Context </a> </div> <div class="toc-item"> <a href="#references"> # References </a> </div> </div> </div> </div> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Ben Wen. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="/assets/js/jquery.min.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="/assets/js/tex-mml-chtml.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>