<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Python Sequence Type | BEN WEN</title> <meta name="author" content="Ben Wen"> <meta name="description" content="A website to show the world of Ben Wen "> <meta name="keywords" content="jekyll, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/mdb.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link defer rel="stylesheet" href="/assets/css/bootstrap-table.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/all.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/academicons.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/github.css?d41d8cd98f00b204e9800998ecf8427e" media="" id="highlight_theme_light"> <link rel="icon" href="/assets/img/favicon.png"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://benwzj.github.io/blog/2024/py-sequenece/"> <link rel="stylesheet" href="/assets/css/native.css?d41d8cd98f00b204e9800998ecf8427e" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> <style>html{scroll-behavior:smooth}</style> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">BEN WEN</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/about/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Resume</a> </li> <li class="nav-item"> <a class="nav-link" href="https://github.com/benwzj" rel="external nofollow noopener" target="_blank"> GitHub <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="width:1rem;height:1rem;fill:currentColor"> <g data-name="Layer 2"><g data-name="external-link"> <rect width="24" height="24" opacity="0"></rect> <path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"></path> <path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"></path> </g></g> </svg> </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="post col-sm-9"> <h1 class="post-title">Python Sequence Type</h1> <br> <br> <article class="post-content"> <div id="markdown-content"> <h2 id="what-is-python-sequence">What is Python Sequence</h2> <p>In Python, when accessing an attribute of an object, Python is <strong>duck-typed</strong>. The object will only be checked to see if it has an attribute at runtime, and only when immediately requested.</p> <p>However, Python also has <strong>nominal typing</strong> features. Nominal typing is where one type is declared to be a subclass of another.</p> <p>When using duck-typing, the definition can be: A sequence(little s) is any ordered collection of objects which supports efficient element access using integer indices via the <code class="language-plaintext highlighter-rouge">__getitem__()</code> special method and defines a <code class="language-plaintext highlighter-rouge">__len__()</code> method that returns the length of the sequence.</p> <p>For Nominal typing, using <code class="language-plaintext highlighter-rouge">collections.abc.Sequence</code> as base class.</p> <p>For example: A numpy array is a sequence, but it is not a Sequence as it is not registered as a subclass of Sequence.</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">isinstance</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="n">collections</span><span class="p">.</span><span class="n">abc</span><span class="p">.</span><span class="n">Sequence</span><span class="p">)</span>
<span class="c1"># False 
</span></code></pre></div></div> <h3 id="there-are-three-basic-sequence-types">There are three basic sequence types:</h3> <ul> <li>lists, typically used to store collections of homogeneous items</li> <li>tuples, typically used to store collections of heterogeneous data</li> <li>range objects, represents an immutable sequence of numbers and is commonly used for looping a specific number of times in <code class="language-plaintext highlighter-rouge">for</code> loops.</li> </ul> <h3 id="here-are-more">Here are more:</h3> <ul> <li>Strings: Textual data in Python is handled with <code class="language-plaintext highlighter-rouge">str</code> objects, or strings. Strings are immutable sequences of Unicode code points.</li> <li>Bytes objects: are immutable sequences of single bytes.</li> <li>Bytearray objects: are a mutable counterpart to bytes objects.</li> <li>Immutable sequence types: support for the <code class="language-plaintext highlighter-rouge">hash()</code> built-in.</li> </ul> <h2 id="common-sequence-operations">Common Sequence Operations</h2> <p>The <code class="language-plaintext highlighter-rouge">collections.abc.Sequence</code> ABC is provided to make it easier to correctly implement these operations on custom sequence types.</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="ow">in</span> <span class="n">s</span>
<span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">s</span>
<span class="n">s</span> <span class="o">+</span> <span class="n">t</span>
<span class="n">s</span> <span class="o">*</span> <span class="n">n</span>
<span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">j</span><span class="p">]</span>
<span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">j</span><span class="p">:</span><span class="n">k</span><span class="p">]</span>
<span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="nf">min</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="nf">max</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">s</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="n">x</span><span class="p">[,</span> <span class="n">i</span><span class="p">[,</span> <span class="n">j</span><span class="p">]])</span>
<span class="n">s</span><span class="p">.</span><span class="nf">count</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></div> <h2 id="understand-binary-sequence">Understand Binary Sequence</h2> <p>The core built-in types for manipulating binary data are <code class="language-plaintext highlighter-rouge">bytes</code> and <code class="language-plaintext highlighter-rouge">bytearray</code>. They are supported by <code class="language-plaintext highlighter-rouge">memoryview</code> which uses the buffer protocol to access the memory of other binary objects without needing to make a copy.</p> <ul> <li>Bytes objects: are immutable sequences of single bytes.</li> <li>Bytearray objects: are a mutable counterpart to bytes objects.</li> </ul> <h3 id="why-we-need-bytes-object">Why we need Bytes object</h3> <p>The only thing that a computer can store is bytes. To store anything in a computer, you must first encode it, i.e. convert it to bytes. For example:</p> <ul> <li>If you want to store music, you must first encode it using MP3, WAV, etc.</li> <li>If you want to store a picture, you must first encode it using PNG, JPEG, etc.</li> <li>If you want to store text, you must first encode it using ASCII, UTF-8, etc. MP3, WAV, PNG, JPEG, ASCII and UTF-8 are examples of encodings. An encoding is a format to represent audio, images, text, etc. in bytes.</li> </ul> <p>In Python, everything must be converted to a Binary Sequence before it can be stored in a computer. Binary Sequence, sometime can be represented by a byte string, based on text.</p> <h3 id="bytes-objects-and-ascii-text">Bytes objects and ASCII text</h3> <p>Bytes literals and representations can be based on ASCII text, While it is based on text, Only ASCII characters are permitted in bytes literals. Any binary values over 127 must be entered into bytes literals using the appropriate escape sequence.</p> <p>And while Bytes literals based on text, bytes objects actually behave like immutable sequences of integers, with each value in the sequence restricted such that <code class="language-plaintext highlighter-rouge">0 &lt;= x &lt; 256</code> (attempts to violate this restriction will trigger <code class="language-plaintext highlighter-rouge">ValueError</code>).</p> <p>The syntax for bytes literals is largely the same as that for string literals, except that a <code class="language-plaintext highlighter-rouge">b</code> prefix is added: Single quotes: <code class="language-plaintext highlighter-rouge">b'still allows embedded "double" quotes'</code></p> <h3 id="ways-of-creating-bytes-objects-other-than-literal-forms">Ways of Creating Bytes objects other than literal forms</h3> <p>In addition to the literal forms, bytes objects can be created in a number of other ways:</p> <ul> <li>A zero-filled bytes object of a specified length: <code class="language-plaintext highlighter-rouge">bytes(10)</code> </li> <li>From an iterable of integers: <code class="language-plaintext highlighter-rouge">bytes(range(20))</code> </li> <li>Copying existing binary data via the buffer protocol: <code class="language-plaintext highlighter-rouge">bytes(obj)</code> </li> </ul> <h4 id="classmethod-fromhexstring">classmethod fromhex(string)</h4> <p>This bytes class method returns a bytes object, decoding the given string object. The string must contain two hexadecimal digits per byte, with ASCII whitespace being ignored.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> bytes.fromhex<span class="o">(</span><span class="s1">'2Ef0 F1f2  '</span><span class="o">)</span>
b<span class="s1">'.\xf0\xf1\xf2'</span>
</code></pre></div></div> <h4 id="hex">hex()</h4> <p>Return a string object containing two hexadecimal digits for each byte in the instance.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> b<span class="s1">'\xf0\xf1\xf2'</span>.hex<span class="o">()</span>
<span class="s1">'f0f1f2'</span>
</code></pre></div></div> <h3 id="bytes-and-strings">Bytes and Strings</h3> <p>In Python 3, there is a much cleaner separation between text and binary data. Text is always Unicode and is represented by the <code class="language-plaintext highlighter-rouge">str</code> type, and binary data is represented by the <code class="language-plaintext highlighter-rouge">bytes</code> type. What makes the separation particularly clean is that <code class="language-plaintext highlighter-rouge">str</code> and <code class="language-plaintext highlighter-rouge">bytes</code> can’t be mixed in Python 3 in any implicit way.</p> <ul> <li> <p>The <code class="language-plaintext highlighter-rouge">bytes</code> type is a sequence of bytes that have been encoded and are ready to be stored in memory/disk. There are many types of encodings (utf-8, utf-16, also PNG, JPEG, MP3, WAV etc.), which all handle the bytes differently. The bytes object can be decoded into a <code class="language-plaintext highlighter-rouge">str</code> type or others.</p> </li> <li> <p>The <code class="language-plaintext highlighter-rouge">str</code> type is a sequence of <strong>unicode</strong> characters. The str needs to be encoded to be stored, but is mutable and an abstraction of the bytes logic. (Unicode Sandwich theory!)</p> </li> <li> <p>There is a strong relationship between <code class="language-plaintext highlighter-rouge">str</code> and <code class="language-plaintext highlighter-rouge">bytes</code>. <code class="language-plaintext highlighter-rouge">bytes</code> can be decoded into a <code class="language-plaintext highlighter-rouge">str</code>, and <code class="language-plaintext highlighter-rouge">str</code>s can be encoded into <code class="language-plaintext highlighter-rouge">bytes</code>.</p> </li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="s1">'€20'</span>.encode<span class="o">(</span><span class="s1">'utf-8'</span><span class="o">)</span>
b<span class="s1">'\xe2\x82\xac20'</span>
<span class="o">&gt;&gt;&gt;</span> b<span class="s1">'\xe2\x82\xac20'</span>.decode<span class="o">(</span><span class="s1">'utf-8'</span><span class="o">)</span>
<span class="s1">'€20'</span>
</code></pre></div></div> <h3 id="bytearray-objects">Bytearray Objects</h3> <p>bytearray object share all behavior with bytes except for it’s <strong>mutability</strong>.</p> <p>There is no dedicated literal syntax for bytearray objects, instead they are always created by calling the constructor:</p> <ul> <li>Creating an empty instance: <code class="language-plaintext highlighter-rouge">bytearray()</code> </li> <li>Creating a zero-filled instance with a given length: <code class="language-plaintext highlighter-rouge">bytearray(10)</code> </li> <li>From an iterable of integers: <code class="language-plaintext highlighter-rouge">bytearray(range(20))</code> </li> <li>Copying existing binary data via the buffer protocol: <code class="language-plaintext highlighter-rouge">bytearray(b'Hi!')</code> </li> </ul> <p>Bytearray Objects Support classmethod <code class="language-plaintext highlighter-rouge">fromhex(string)</code> and <code class="language-plaintext highlighter-rouge">hex()</code> as well. akin to bytes.</p> <h2 id="array">Array</h2> <p>Arrays are sequence types and behave very much like lists, except that <strong>the type of objects stored in them is constrained</strong>. Array represent an array of basic values, like characters, integers, floating-point numbers.</p> <p>The type of the object which Array contain is specified at object creation time by using a <code class="language-plaintext highlighter-rouge">typecode</code>. <code class="language-plaintext highlighter-rouge">typecode</code> is a single character. For example, ‘l’ means <code class="language-plaintext highlighter-rouge">signed long</code>. You can do this: <code class="language-plaintext highlighter-rouge">array('l', [1, 2, 3, 4, 5])</code>.</p> <blockquote> <p>The NumPy package defines another array type.</p> </blockquote> <h2 id="numpy-array">NumPy array</h2> <ul> <li>In Python we have lists that serve the purpose of arrays, but they are slow to process. NumPy aims to provide an array object that is up to 50x faster than traditional Python lists.</li> <li>The array object in NumPy is called ndarray, it provides a lot of supporting functions that make working with ndarray very easy.</li> <li>NumPy arrays are stored at one continuous place in memory unlike lists, so processes can access and manipulate them very efficiently.</li> <li>NumPy is a Python library and is written partially in Python, but most of the parts that require fast computation are written in C or C++.</li> </ul> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]])</span>
<span class="n">subarr</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="n">subarr</span><span class="p">)</span> <span class="n">like</span> <span class="n">this</span><span class="p">:</span>
<span class="p">[[</span><span class="mi">2</span> <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">6</span> <span class="mi">7</span><span class="p">]]</span>

<span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>  <span class="c1"># Output: 78
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">mean</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>  <span class="c1"># Output: [ 2.5  6.5 10.5]
</span></code></pre></div></div> <h2 id="references">References</h2> <ul> <li> <a href="https://docs.python.org/3/library/array.html" rel="external nofollow noopener" target="_blank">Python official doc on Array</a>.</li> </ul> </div> </article> </div> <div class="col-sm-3 post-side-container"> <div class="card hoverable post-side-sticky"> <div class="card-body post-side-detail"> <h5 class="card-title">Post Detail</h5> <div class="detail-item"> <div class="item-title">Published : </div> <div class="item-content">Dec 15, 2024</div> </div> <div class="detail-item"> <div class="item-title">Category : </div> <div class="item-content"> <a href="/blog/category/python"> <i class="fas fa-tag fa-sm"></i> Python</a> </div> </div> <div class="detail-item"> <div class="item-title">Tags : </div> </div> <div class="tags"> <a href="/blog/tag/python"> <div class="tag"> Python </div> </a> <a href="/blog/tag/string"> <div class="tag"> String </div> </a> </div> <div class="detail-item"> <div class="item-title">Content : </div> </div> <div class="toc-container"> <div class="toc-item"> <a href="#what-is-python-sequence"> # What is Python Sequence </a> </div> <div class="toc-item"> <a href="#common-sequence-operations"> # Common Sequence Operations </a> </div> <div class="toc-item"> <a href="#understand-binary-sequence"> # Understand Binary Sequence </a> </div> <div class="toc-item"> <a href="#bytes-objects-and-ascii-text">     # Bytes objects and ASCII text </a> </div> <div class="toc-item"> <a href="#bytes-and-strings">     # Bytes and Strings </a> </div> <div class="toc-item"> <a href="#bytearray-objects">     # Bytearray Objects </a> </div> <div class="toc-item"> <a href="#array"> # Array </a> </div> <div class="toc-item"> <a href="#references"> # References </a> </div> </div> </div> </div> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Ben Wen. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="/assets/js/jquery.min.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="/assets/js/tex-mml-chtml.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>