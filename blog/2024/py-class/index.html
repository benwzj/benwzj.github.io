<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Python Class | BEN WEN</title> <meta name="author" content="Ben Wen"> <meta name="description" content="A website to show the world of Ben Wen "> <meta name="keywords" content="jekyll, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/mdb.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link defer rel="stylesheet" href="/assets/css/bootstrap-table.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/all.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/academicons.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/github.css?d41d8cd98f00b204e9800998ecf8427e" media="" id="highlight_theme_light"> <link rel="icon" href="/assets/img/favicon.png"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://benwzj.github.io/blog/2024/py-class/"> <link rel="stylesheet" href="/assets/css/native.css?d41d8cd98f00b204e9800998ecf8427e" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> <style>html{scroll-behavior:smooth}</style> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">BEN WEN</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/about/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Resume</a> </li> <li class="nav-item"> <a class="nav-link" href="https://github.com/benwzj" rel="external nofollow noopener" target="_blank"> GitHub <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="width:1rem;height:1rem;fill:currentColor"> <g data-name="Layer 2"><g data-name="external-link"> <rect width="24" height="24" opacity="0"></rect> <path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"></path> <path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"></path> </g></g> </svg> </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="post col-sm-9"> <h1 class="post-title">Python Class</h1> <br> <br> <article class="post-content"> <div id="markdown-content"> <h2 id="basic-concepts-in-class">Basic Concepts in Class</h2> <ul> <li>Each value is an object, and therefore has a class (also called its type). It is stored as <code class="language-plaintext highlighter-rouge">object.__class__</code>.</li> <li>To get the class or the type of object, Python provides us with the type function and <code class="language-plaintext highlighter-rouge">__class__</code> property defined on the object itself.</li> <li>build-in <code class="language-plaintext highlighter-rouge">object</code> is a base for all classes.</li> <li>Each object has a class from which it is instantiated.</li> <li> <code class="language-plaintext highlighter-rouge">Metaclass</code> is a class from which classes are instantiated or metaclass is a class of a class.</li> <li> <code class="language-plaintext highlighter-rouge">super([type[, object-or-type]])</code> Return a proxy object that delegates method calls to a parent or sibling class of type.</li> <li>Python support aliasing (one object have more than one name).</li> <li>Even built-in types, like <code class="language-plaintext highlighter-rouge">int</code>, <code class="language-plaintext highlighter-rouge">float</code>, can be used as base classes for extension by the user.</li> <li>Class definitions, like function definitions (def statements) must be executed before they have any effect. (You could conceivably place a class definition in a branch of an <code class="language-plaintext highlighter-rouge">if</code> statement, or inside a function.)</li> <li>there are many magic function for the object. like<code class="language-plaintext highlighter-rouge"> __init__, __class__, __dict__</code>, etc.</li> <li>The first letter of the name of a class need to be capitalized.</li> <li>The first parameter of all attribute function is self</li> </ul> <h3 id="basic-example">Basic example:</h3> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
    <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>

<span class="n">p1</span> <span class="o">=</span> <span class="nc">Person</span><span class="p">(</span><span class="sh">"</span><span class="s">John</span><span class="sh">"</span><span class="p">,</span> <span class="mi">36</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
</code></pre></div></div> <h2 id="main-concepts">Main Concepts</h2> <h3 id="class-objects">Class Objects</h3> <p>Class objects support two kinds of operations: attribute references and instantiation.</p> <h4 id="attribute-references">Attribute references</h4> <p>The standard syntax used for all attribute references in Python: <code class="language-plaintext highlighter-rouge">obj.name</code>.</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">A simple example class</span><span class="sh">"""</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">12345</span>

    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sh">'</span><span class="s">hello world</span><span class="sh">'</span>
</code></pre></div></div> <p>then <code class="language-plaintext highlighter-rouge">MyClass.i</code> and <code class="language-plaintext highlighter-rouge">MyClass.f</code> are valid attribute references, returning an integer and a function object, respectively.</p> <h4 id="class-instantiation">Class instantiation</h4> <p>Class instantiation uses function notation, (not using new keyword). Just pretend that the class object is a parameterless function that returns a new instance of the class. <code class="language-plaintext highlighter-rouge">x = MyClass()</code></p> <p>When a class defines an <code class="language-plaintext highlighter-rouge">__init__()</code> method, class instantiation automatically invokes <code class="language-plaintext highlighter-rouge">__init__()</code> for the newly-created class instance.</p> <h3 id="instance-objects">Instance Objects</h3> <p>The only operations understood by instance objects are attribute references. <code class="language-plaintext highlighter-rouge">x = MyClass()</code></p> <ul> <li>There are two kinds of valid attribute names: <ul> <li>data attributes and</li> <li>methods.</li> </ul> </li> <li> <code class="language-plaintext highlighter-rouge">x.f</code> is not the same thing as <code class="language-plaintext highlighter-rouge">MyClass.f</code>. It is a method object, not a function object.</li> </ul> <h4 id="what-is-method-objects">What is Method Objects</h4> <p>Method object is not a function object!</p> <ul> <li>In example above, the call <code class="language-plaintext highlighter-rouge">x.f()</code> is exactly equivalent to <code class="language-plaintext highlighter-rouge">MyClass.f(x)</code>.</li> <li>In general, calling a method with a list of arguments is equivalent to calling the corresponding function with an argument list that is created by inserting the method’s instance object before the first argument.</li> </ul> <h4 id="understand-method-object">Understand Method object</h4> <p>When a non-data attribute of an instance is referenced, the instance’s class is searched. If the name denotes a valid class attribute that is a function object, a method object is created by packing (pointers to) the instance object and the function object just found together in an abstract object: this is the method object. (different from JavaScript)</p> <p>When the method object is called with an argument list, a new argument list is constructed from the instance object and the argument list, and the function object is called with this new argument list.</p> <h3 id="class-and-instance-variables">Class and Instance Variables</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class Dog:
    kind <span class="o">=</span> <span class="s1">'canine'</span>       <span class="c">#this is class variable shared by all instances</span>
    def __init__<span class="o">(</span>self, name<span class="o">)</span>:
        self.name <span class="o">=</span> name  <span class="c">#this is instance variable unique to each instance</span>

<span class="o">&gt;&gt;&gt;</span> d <span class="o">=</span> Dog<span class="o">(</span><span class="s1">'Fido'</span><span class="o">)</span>
<span class="o">&gt;&gt;&gt;</span> e <span class="o">=</span> Dog<span class="o">(</span><span class="s1">'Buddy'</span><span class="o">)</span>
<span class="o">&gt;&gt;&gt;</span> d.kind                  <span class="c"># shared by all dogs</span>
<span class="s1">'canine'</span>
<span class="o">&gt;&gt;&gt;</span> e.kind                  <span class="c"># shared by all dogs</span>
<span class="s1">'canine'</span>
<span class="o">&gt;&gt;&gt;</span> d.name                  <span class="c"># unique to d</span>
<span class="s1">'Fido'</span>
<span class="o">&gt;&gt;&gt;</span> e.name                  <span class="c"># unique to e</span>
<span class="s1">'Buddy'</span>
</code></pre></div></div> <ul> <li>instance variables are for data unique to each instance.</li> <li>class variables are for attributes and methods shared by all instances of the class.</li> <li>So, Mutable type, like lists, dictionaries, should not be used as a class variable. It should use an instance variable instead</li> <li>If the same attribute name occurs in both an instance and in a class, then attribute lookup prioritizes the instance.</li> </ul> <h3 id="inheritance">Inheritance</h3> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">DerivedClassName</span><span class="p">(</span><span class="n">BaseClassName</span><span class="p">):</span>
    <span class="o">&lt;</span><span class="n">statement</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span>
    <span class="p">.</span>
    <span class="p">.</span>
    <span class="p">.</span>
    <span class="o">&lt;</span><span class="n">statement</span><span class="o">-</span><span class="n">N</span><span class="o">&gt;</span>
</code></pre></div></div> <p>Execution of a derived class definition proceeds the same as for a base class. When the class object is constructed, the base class is remembered. This is used for resolving attribute references: if a requested attribute is not found in the class, the search proceeds to look in the base class. This rule is applied recursively if the base class itself is derived from some other class.</p> <ul> <li>Derived classes may override methods of their base classes.</li> <li>Python has two built-in functions that work with inheritance: <ul> <li>Use <code class="language-plaintext highlighter-rouge">isinstance()</code> to check an instance’s type.</li> <li>Use <code class="language-plaintext highlighter-rouge">issubclass()</code> to check class inheritance.</li> </ul> </li> <li>Python supports a form of multiple inheritance: <code class="language-plaintext highlighter-rouge">class DerivedClassName(Base1, Base2, Base3)</code> </li> </ul> <h3 id="build-in-object-is-a-base-class-for-all-classes">build-in <code class="language-plaintext highlighter-rouge">object</code> is a base class for all classes</h3> <p>In Python3, all classes implicitly inherit from the built-in object base class. The object class provides some common methods, such as <code class="language-plaintext highlighter-rouge">__init__</code>, <code class="language-plaintext highlighter-rouge">__str__</code>, and <code class="language-plaintext highlighter-rouge">__new__</code>, that can be overridden by the child class. For example:</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Human</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div></div> <p>Try <code class="language-plaintext highlighter-rouge">dir(Human)</code> and will tell Human class have all the methods of built-in object methods:</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="sh">'</span><span class="s">__class__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__delattr__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__dict__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__dir__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__doc__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__eq__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__format__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__ge__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__getattribute__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__gt__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__hash__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__init__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__init_subclass__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__le__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__lt__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__module__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__ne__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__new__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__reduce__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__reduce_ex__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__repr__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__setattr__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__sizeof__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__str__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__subclasshook__</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">__weakref__</span><span class="sh">'</span><span class="p">]</span>
</code></pre></div></div> <figure> <picture> <img src="/assets/img/py-object-type.jpg" class="img-fluid rounded z-depth-1" width="60%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h4 id="metaclass">Metaclass</h4> <p>All classes in Python are objects of the type class, and this type class is called Metaclass. Metaclass is a class from which classes are instantiated or metaclass is a class of a class.</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">type</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>    <span class="c1"># Output: &lt;class 'type'&gt;
</span><span class="nf">type</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>  <span class="c1"># Output: &lt;class 'type'&gt;
</span>
<span class="c1"># Even type of object class is - type
</span><span class="nf">type</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span> <span class="c1"># Output: &lt;class 'type'&gt;
</span></code></pre></div></div> <p>Thus, the type class is the metaclass of int and float classes. The type class is even the metaclass for the built-in object class, which is the base class for all the classes in Python. As type itself is a class, what is the metaclass of the type class? The type class is a metaclass of itself!</p> <figure> <picture> <img src="/assets/img/py-metaclass.jpg" class="img-fluid rounded z-depth-1" width="25%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h4 id="built-in-function-type">Built-in function type()</h4> <ul> <li>type() function With one argument, return the type of an object. The return value is a type object and generally the same object as returned by <code class="language-plaintext highlighter-rouge">object.__class__</code>.</li> <li>type class is metaclass.</li> </ul> <h4 id="build-in-function-object">Build-in function object()</h4> <p>object is a <code class="language-plaintext highlighter-rouge">class.object()</code> return a new featureless object. object is a base for all classes. It has methods that are common to all instances of Python classes. This function does not accept any arguments.</p> <h2 id="instantiation-process">Instantiation process</h2> <p>Object creation in Python is a two-step process.</p> <ul> <li>In the first step, Python creates the object, Python uses the <code class="language-plaintext highlighter-rouge">__new__</code> method (i.e., object creation)</li> <li>and in the second step, it initializes the object. Python uses the <code class="language-plaintext highlighter-rouge">__init__</code> method (i.e., initialization).</li> </ul> <p>If the class does not define these methods, they are inherited from the object base class.</p> <h3 id="first-step-__new__">First step <code class="language-plaintext highlighter-rouge">__new__()</code> </h3> <h4 id="__new__-need-to-return-the-object-witch-have-been-created"> <code class="language-plaintext highlighter-rouge">__new__()</code> need to return the object witch have been created.</h4> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Human</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="c1"># cls is the class using which the object will be created. cls=Human
</span>        <span class="c1"># We MUST call the object class' __new__ to allocate memory
</span>        <span class="n">obj</span> <span class="o">=</span> <span class="nf">super</span><span class="p">().</span><span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">)</span> <span class="c1"># This is equivalent to object.__new__(cls)
</span>
        <span class="c1"># Modify the object created
</span>        <span class="k">if</span> <span class="n">first_name</span><span class="p">:</span>
            <span class="n">obj</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">first_name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obj</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Ben</span><span class="sh">"</span>

        <span class="c1"># return the object
</span>        <span class="k">return</span> <span class="n">obj</span>
</code></pre></div></div> <h4 id="cls-is-the-class-using-witch-the-object-will-be-created"> <code class="language-plaintext highlighter-rouge">cls</code> is the class using witch the object will be created:</h4> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Animal</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="c1"># Passing Human class reference instead of Animal class reference
</span>        <span class="n">obj</span> <span class="o">=</span> <span class="nf">super</span><span class="p">().</span><span class="nf">__new__</span><span class="p">(</span><span class="n">Human</span><span class="p">)</span> 
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Type of obj: </span><span class="si">{</span><span class="nf">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span> <span class="c1"># &lt;class '__main__.Human'&gt;
</span>        <span class="k">return</span> <span class="n">obj</span>

<span class="n">cat</span> <span class="o">=</span> <span class="nc">Animal</span><span class="p">()</span>
<span class="nf">type</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>   <span class="c1"># Output: &lt;class '__main__.Human'&gt;
</span></code></pre></div></div> <h3 id="second-step-__init__">Second step <code class="language-plaintext highlighter-rouge">__init__()</code> </h3> <p>Once the <code class="language-plaintext highlighter-rouge">__new__</code> method is complete, Python calls the <code class="language-plaintext highlighter-rouge">__init__</code> method with the human_obj object as the first argument. The <code class="language-plaintext highlighter-rouge">__init__</code> method must not return anything.</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Human</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">first_name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">first_name</span> <span class="o">=</span> <span class="n">first_name</span>
</code></pre></div></div> <h3 id="understand-the-precess-with-questions">Understand the precess with Questions</h3> <ul> <li>Who calls the <code class="language-plaintext highlighter-rouge">__new__</code> and <code class="language-plaintext highlighter-rouge">__init__</code> method?</li> <li>Who passes the self object to the <code class="language-plaintext highlighter-rouge">__init__</code> method?</li> <li>As the <code class="language-plaintext highlighter-rouge">__init__</code> method is called after the <code class="language-plaintext highlighter-rouge">__new__</code> method, and the <code class="language-plaintext highlighter-rouge">__init__</code> method does not return anything, how does calling the class return the object (i.e., how does calling the Human class return the human_obj object)?</li> </ul> <h4 id="calling-a-class">Calling a Class</h4> <ul> <li>Class is callable! Because class has a <code class="language-plaintext highlighter-rouge">__call__()</code> method.</li> <li>How <code class="language-plaintext highlighter-rouge">__call__</code> method process With CPython implementation, the metaclass type class’ <code class="language-plaintext highlighter-rouge">__call__</code> method definition is defined in C language. If we convert it into Python and simplify it, it will look somewhat like this: <div class="language-py highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># type's __call__ method which gets called when Human class is called i.e. Human()
</span><span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
  <span class="c1"># cls = Human class
</span>  <span class="c1"># args = ["Virat", "Kohli"]
</span>  <span class="c1"># Calling __new__ method of the Human class, as __new__ method is not defined
</span>  <span class="c1"># on Human, __new__ method of the object class is called
</span>  <span class="n">human_obj</span> <span class="o">=</span> <span class="n">cls</span><span class="p">.</span><span class="nf">__new__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

  <span class="c1"># After __new__ method returns the object, __init__ method will only be called if
</span>  <span class="c1"># 1. human_obj is not None
</span>  <span class="c1"># 2. human_obj is an instance of class Human
</span>  <span class="c1"># 3. __init__ method is defined on the Human class
</span>  <span class="k">if</span> <span class="n">human_obj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">human_obj</span><span class="p">,</span> <span class="n">cls</span><span class="p">)</span> <span class="ow">and</span> <span class="nf">hasattr</span><span class="p">(</span><span class="n">human_obj</span><span class="p">,</span> <span class="sh">'</span><span class="s">__init__</span><span class="sh">'</span><span class="p">):</span>
      <span class="c1"># As __init__ is called on human_obj, self will be equal to human_obj in __init__ method
</span>      <span class="n">human_obj</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">human_obj</span>
</code></pre></div> </div> </li> </ul> <figure> <picture> <img src="/assets/img/py-calling-class.jpg" class="img-fluid rounded z-depth-1" width="60%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h4 id="step-for-creating-an-object">Step for creating an object</h4> <p>Following steps are followed while creating and initializing an object in Python:</p> <ol> <li>Call the Human class - Human(); this internally calls the <strong>call</strong> method of the type class (i.e., type.<strong>call</strong>(Human, “Virat”, “Kohli”)).</li> <li>type.<strong>call</strong> will first call the <strong>new</strong> method defined on the Human class. If the <strong>new</strong> method is not defined on the Human class, the <strong>new</strong> method of the object class will be called.</li> <li>The <strong>new</strong> method will the return the object of type Human i.e. human_obj</li> <li>Now, type.<strong>call</strong> will call the <strong>init</strong> method defined on the Human class with human_obj as the first argument. This human_obj will be self in the <strong>init</strong> method.</li> <li>The <strong>init</strong> method will initialize the human_obj with the first_name as Virat and thelast_name as Kohli. The <strong>init</strong> method will not return anything.</li> <li>In the end, type.<strong>call</strong> will return the human_obj object.</li> </ol> <p>As per the type.<strong>call</strong> definition, whenever we create a new object, the <strong>new</strong> method will always be called, but calling the <strong>init</strong> method depends on the output of the <strong>new</strong> method. The <strong>init</strong> method will be called only if the <strong>new</strong> method returns an object of type Human class or a subclass of the Human class.</p> <h2 id="static--class-method">Static &amp; class method</h2> <p>Static methods, much like class methods, are methods that are bound to a class rather than its object. They do not require a class instance creation. So, they are not dependent on the state of the object.</p> <h3 id="static-method">static method</h3> <p>A static method can be called either on the class (such as <code class="language-plaintext highlighter-rouge">C.f()</code>) or on an instance (such as <code class="language-plaintext highlighter-rouge">C().f()</code>). Moreover, they can be called as regular functions (such as <code class="language-plaintext highlighter-rouge">f()</code>).</p> <h4 id="when-do-you-use-static-methods">When do you use static methods?</h4> <p>Static methods have a limited use case because, like class methods or any other methods within a class, they cannot access the properties of the class itself.</p> <p>when you need a utility function that doesn’t access any properties of a class but makes sense that it belongs to the class, we use static functions.</p> <p>Having a single implementation Static methods are used when we don’t want subclasses of a class change/override a specific implementation of a method.</p> <h3 id="class-method">class method</h3> <p>A class method is a method that is bound to a class rather than its object. It doesn’t require creation of a class instance, much like staticmethod.</p> <ul> <li>built-in function classmethod(), for transforming a method into a class method.</li> <li>A class method can be called either on the class (such as C.f()) or on an instance (such as C().f()). The instance is ignored except for its class.</li> <li>If a class method is called for a derived class, the derived class object is passed as the implied first argument.</li> <li>But no matter what, the class method is always attached to a class with the first argument as the class itself cls. <code class="language-plaintext highlighter-rouge">def classMethod(cls, args...)</code> </li> </ul> <h4 id="when-do-you-use-the-class-method">When do you use the class method?</h4> <ol> <li>Factory methods</li> <li>Correct instance creation in inheritance</li> </ol> <h3 id="the-difference-between-a-static-method-and-a-class-method-is">The difference between a static method and a class method is:</h3> <ul> <li>Static method knows nothing about the class and just deals with the parameters.</li> <li>Class method works with the class since its parameter is always the class itself. They can be called both by the class and its object.</li> </ul> <h2 id="abstract-base-classes">Abstract Base Classes</h2> <h3 id="what-is-abstract-base-class-abc">What is abstract base class (abc)</h3> <ul> <li>Abstract classes are classes that are meant to be inherited but avoid implementing specific methods, leaving behind only method signatures that subclasses must implement.</li> <li>ABCs introduce virtual subclasses, which are classes that don’t inherit from a class but are still recognized by <code class="language-plaintext highlighter-rouge">isinstance()</code> and <code class="language-plaintext highlighter-rouge">issubclass()</code>. (see the abc module documentation.)</li> <li>Python comes with many built-in ABCs for data structures (in the collections.abc module), numbers (in the numbers module), streams (in the io module), import finders and loaders (in the importlib.abc module). You can create your own ABCs with the abc module.</li> </ul> <h3 id="why-abc">Why abc</h3> <ul> <li>Abstract classes are useful for defining and enforcing class abstractions at a high level, similar to the concept of interface in typed languages(like TypeScript), without the need for method implementation.</li> <li>With the abc module we can prevent child classes from being instantiated when they fail to override abstract class methods of their parents and ancestors.</li> <li>Abstract base classes complement duck-typing by providing a way to define interfaces when other techniques like <code class="language-plaintext highlighter-rouge">has_attr()</code> would be clumsy or subtly wrong (for example with magic methods).</li> <li>For example, collections.abc module provides abstract base classes that can be used to test whether a class provides a particular interface; for example, whether it is hashable or whether it is a mapping.</li> </ul> <h3 id="abc-concept-example">abc concept Example</h3> <p>from abc import ABC, abstractmethod</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Vehicle</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">()</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">go_forward</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Truck</span><span class="p">(</span><span class="n">Vehicle</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">press_accelerator</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">press_accelerator</span> <span class="o">=</span> <span class="n">press_accelerator</span>

    <span class="k">def</span> <span class="nf">go_forward</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">press_accelerator</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Driving forward</span><span class="sh">'</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Press the accelerator to drive forward</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <p>Truck class have to implement go_forward function.</p> <h3 id="collectionsabc">collections.abc</h3> <p>This module provides abstract base classes that can be used to test whether a class provides a particular interface; for example, whether it is hashable or whether it is a mapping.</p> <p>The collections.abc.Sequence ABC is provided to make it easier to correctly implement these operations on custom sequence types.</p> </div> </article> </div> <div class="col-sm-3 post-side-container"> <div class="card hoverable post-side-sticky"> <div class="card-body post-side-detail"> <h5 class="card-title">Post Detail</h5> <div class="detail-item"> <div class="item-title">Published : </div> <div class="item-content">Dec 22, 2024</div> </div> <div class="detail-item"> <div class="item-title">Category : </div> <div class="item-content"> <a href="/blog/category/python"> <i class="fas fa-tag fa-sm"></i> Python</a> </div> </div> <div class="detail-item"> <div class="item-title">Tags : </div> </div> <div class="tags"> <a href="/blog/tag/python"> <div class="tag"> Python </div> </a> </div> <div class="detail-item"> <div class="item-title">Content : </div> </div> <div class="toc-container"> <div class="toc-item"> <a href="#basic-concepts-in-class"> # Basic Concepts in Class </a> </div> <div class="toc-item"> <a href="#main-concepts"> # Main Concepts </a> </div> <div class="toc-item"> <a href="#class-objects">     # Class Objects </a> </div> <div class="toc-item"> <a href="#instance-objects">     # Instance Objects </a> </div> <div class="toc-item"> <a href="#class-and-instance-variables">     # Class and Instance Variables </a> </div> <div class="toc-item"> <a href="#inheritance">     # Inheritance </a> </div> <div class="toc-item"> <a href="#build-in-object-is-a-base-class-for-all-classes">     # build-in `object` is a base class for all classes </a> </div> <div class="toc-item"> <a href="#instantiation-process"> # Instantiation process </a> </div> <div class="toc-item"> <a href="#static-class-method"> # Static &amp; class method </a> </div> <div class="toc-item"> <a href="#abstract-base-classes"> # Abstract Base Classes </a> </div> </div> </div> </div> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Ben Wen. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="/assets/js/jquery.min.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="/assets/js/tex-mml-chtml.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>