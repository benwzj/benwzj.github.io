<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>GIT Overview | BEN WEN</title> <meta name="author" content="Ben Wen"> <meta name="description" content="A website to show the world of Ben Wen "> <meta name="keywords" content="jekyll, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/mdb.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link defer rel="stylesheet" href="/assets/css/bootstrap-table.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/all.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" href="/assets/css/academicons.min.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/github.css?d41d8cd98f00b204e9800998ecf8427e" media="" id="highlight_theme_light"> <link rel="icon" href="/assets/img/favicon.png"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://benwzj.github.io/blog/2020/git-overview/"> <link rel="stylesheet" href="/assets/css/native.css?d41d8cd98f00b204e9800998ecf8427e" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">BEN WEN</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/about/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Resume</a> </li> <li class="nav-item"> <a class="nav-link" href="https://github.com/benwzj" rel="external nofollow noopener" target="_blank"> GitHub <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="width:1rem;height:1rem;fill:currentColor"> <g data-name="Layer 2"><g data-name="external-link"> <rect width="24" height="24" opacity="0"></rect> <path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"></path> <path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"></path> </g></g> </svg> </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="post col-sm-9"> <h1 class="post-title">GIT Overview</h1> <br> <br> <article class="post-content"> <div id="markdown-content"> <h2 id="what-is-git">What is Git</h2> <p>Git is a content-addressable filesystem. It means that at the core of Git is a simple key-value data store. What this means is that you can insert any kind of content into a Git repository, for which Git will hand you back a unique key you can use later to retrieve that content.</p> <p>At a high-level, Git can be thought of as a timeline management utility. git commit is used to create a snapshot of the staged changes along a timeline of a Git projects history.</p> <h2 id="three-states">Three States</h2> <p>Git has three main states that your files can reside in:</p> <ul> <li> <strong>Modified</strong> means that you have changed the file but have not committed it to your database yet.</li> <li> <strong>Staged</strong> means that you have marked a modified file in its current version to go into your next commit snapshot.</li> <li> <strong>Committed</strong> means that the data is safely stored in your local database.</li> </ul> <p>This leads us to the three main sections of a Git project: the working tree, the staging area, and the Git directory.</p> <figure> <picture> <img src="/assets/img/git-three-state.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h3 id="staging-state">Staging State</h3> <ul> <li> <p>This is an intermediate area where commits can be formatted and reviewed before completing the commit.</p> </li> <li> <p>Staging Area make it possible to quickly stage some of your files and commit them without committing all of the other modified files in your working directory.</p> </li> <li> <p>you can just stage the change you need for the current commit and stage the other change for the next commit.</p> </li> <li> <p>You can ignore staging area feature, just add a ‘-a’ to your commit command in order to add all changes to all files to the staging area.</p> </li> </ul> <h3 id="where-do-git-store-staging-area">Where do git store staging area</h3> <ul> <li>The management of staging area is based on an object, the blob and the file index.</li> <li>To add content to the staging area, or flag your changes, you use the git add command. This command does 2 things: <ol> <li>it creates the blobs corresponding to the new version of the files after modification</li> <li>it feeds the index file which then contains the list of modified files and pointers to the blobs.</li> </ol> </li> </ul> <h2 id="git-repository">Git Repository</h2> <p><a href="https://www.cloudbees.com/blog/git-detached-head" rel="external nofollow noopener" target="_blank">cloudbees doc</a></p> <h3 id="what-is-repository-in-git">What is Repository in Git</h3> <p>A Git repository is a collection of objects and references. Objects(map as circle) have relationships with each other, and references(map as square) point to objects and to other references.</p> <ul> <li>The main objects in a Git repository are commits, but other objects include blobs and trees. (So commit is an object.)</li> <li>The most important references in Git are branches, which you can think of as labels you put on a commit. (So branch is a reference.)</li> </ul> <h3 id="what-is-head">What is HEAD</h3> <p>HEAD is another important type of reference. The purpose of HEAD is to keep track of the current point in a Git repo. In other words, HEAD answers the question, “Where am I right now?” (Head is a reference)</p> <h3 id="what-is-detached-head-state">What is ‘detached HEAD’ state</h3> <p>Normally, or say most of the time, HEAD points to a branch name. We can call this state is attached state. Looks like this:</p> <figure> <picture> <img src="/assets/img/detached-HEAD.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>But, if you git checkout <code class="language-plaintext highlighter-rouge">87ec91d</code>, (<code class="language-plaintext highlighter-rouge">87ec91d</code> is the hash of a commit), then “You are in ‘detached HEAD’ state[…]”</p> <figure> <picture> <img src="/assets/img/detached-HEAD1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <ul> <li>detached HEAD state means you are not in a branch, instead, you are in an old commit. (in a branch means in the latest commit of a branch)</li> <li>detached HEAD is quite useful, allowing you to run experiments that you can then choose to keep or discard.</li> </ul> <h4 id="scenario-1">Scenario #1:</h4> <p>I’ve Made Experimental Changes but I Want to Discard Them. Just check out the branch you were in before: <code class="language-plaintext highlighter-rouge">git checkout &lt;branch-name&gt;</code></p> <p>The changes you made while in the alternate timeline won’t have any impact on your current branch.</p> <h4 id="scenario-2">Scenario #2:</h4> <p>I’ve Made Experimental Changes and I Want to Keep Them If you want to keep changes made with a detached HEAD, just create a new branch and switch to it.</p> <p>You can create it right after arriving at a detached HEAD or after creating one or more commits. The result is the same. The only restriction is that you should do it before returning to your normal branch.</p> <h3 id="what-is-fetch_head">What is FETCH_HEAD</h3> <p>FETCH_HEAD is a short-lived ref, to keep track of what has just been fetched from the remote repository.</p> <h2 id="organize-commits">Organize commits</h2> <ul> <li>Behind the scenes, in the repository’s ./.git/objects directory, Git stores all commits, local and remote.</li> <li>Git keeps remote and local branch commits distinctly separate through the use of branch refs.</li> <li>The refs for local branches are stored in the ./.git/refs/heads/. Executing the git branch command will output a list of the local branch refs.</li> <li>Remote branches are just like local branches, except they map to commits from somebody else’s repository.</li> </ul> <h2 id="credential">Credential</h2> <h3 id="ssh-credential-storage">SSH credential storage</h3> <ul> <li> <p>If you use the SSH transport for connecting to remotes, it’s possible for you to have a key without a passphrase, thanks for ssh agent. ssh credential (private key) store in.</p> </li> <li> <p>By default, your private and public keys are saved in your ~/.ssh/id_rsa and ~/.ssh/id_rsa.pub files, respectively. you can provide passphrase to protect the private key.</p> </li> </ul> <h3 id="https-credential-storage">HTTPS credential storage</h3> <p><a href="https://git-scm.com/book/en/v2/Git-Tools-Credential-Storage" rel="external nofollow noopener" target="_blank">git-scm doc</a></p> <ul> <li>It need password for ever connection with HTTP protocols, and it haven’t agent protocol.</li> <li>Now GCM is the out of box tools for credential management.</li> <li>All of GCM’s configuration settings begin with the term credential.</li> </ul> <p>You can get credential storage info from the configuration file. for example (using HTTPS):</p> <ul> <li>password is stored in a .git-credentials file in the user folder: credential.helper=store</li> <li>password is stored in the windows credential manager: credential.helper=manager</li> <li>macOS Keychain: credential.helper=osxkeychain</li> <li>The “cache” mode keeps credentials in memory for a certain period of time. None of the passwords are ever stored on disk, and they are purged from the cache after 15 minutes. (that means you input password every 15 minutes) credential.helper=cache</li> </ul> <h2 id="what-is-gcm">What is GCM</h2> <p><a href="https://github.com/git-ecosystem/git-credential-manager/tree/main/docs" rel="external nofollow noopener" target="_blank">git-credential-manager doc</a></p> <p>The goal of Git Credential Manager (GCM) is to make the task of authenticating to your remote Git repositories easy and secure, no matter where your code is stored or how you choose to work. In short, GCM wants to be Git’s universal authentication experience.</p> <ul> <li>GCM is only useful for HTTP(S)-based remotes. Git supports SSH out-of-the box so you shouldn’t need to install anything else.</li> <li>GCM maybe initiated by microsoft at the beginning.</li> <li>When you choose HTTPS as your preferred protocol for Git operations to Github. You can use GitHub CLI to automatically store your Git credentials for you.</li> <li>Git Credential Manager (GCM) is another way to store your credentials securely and connect to GitHub over HTTPS.</li> <li> <p>With GCM, you don’t have to manually create and store a personal access token, as GCM manages authentication on your behalf, including 2FA (two-factor authentication).</p> </li> <li>GCM is different software from git. you can install it: <div class="language-plaintext highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>brew install --cask git-credential-manager-core
</code></pre></div> </div> </li> <li>All of GCM’s configuration settings begin with the term credential.</li> </ul> <h3 id="what-is-credentialusehttppath">What is credential.UseHttpPath</h3> <ul> <li> <code class="language-plaintext highlighter-rouge">credential.useHttpPath</code> Tells Git to pass the entire repository URL, rather than just the hostname, when calling out to a credential provider. (This setting comes from Git itself, not GCM.)</li> <li> <code class="language-plaintext highlighter-rouge">credential.useHttpPath</code> Defaults to false.</li> </ul> <h4 id="git-config-global-credentialusehttppath-true">git config –global credential.useHttpPath true</h4> <ul> <li>This command will instruct git (as well as github) that any credentials used to login should only be associated with the full repository path that was queried, not for the entire domain.</li> <li>When you have different repos, servers. set it to true.</li> </ul> <h4 id="my-experience">My experience</h4> <ul> <li> <p>My maxBook have configured to connect GitHub by using https before. When I tried to git clone a repo from CodeCommit. It had error 403 directly. After I executed command: git config –global credential.useHttpPath true Everything was good then.</p> </li> <li> <p>That is because, credential.useHttpPath is false by default, that means GCM will try use the GitHub credential to connect CodeCommit repo!</p> </li> </ul> <h2 id="basic-git-operations">Basic git operations</h2> <ul> <li> <p>connect your local repository to your remote repository: <code class="language-plaintext highlighter-rouge">git remote add origin https://github.com/benwzj/animationsApp.git</code></p> </li> <li> <p>push the file to remote repository: <code class="language-plaintext highlighter-rouge">git push origin master</code></p> </li> <li> <p>create a branch named my_branch: <code class="language-plaintext highlighter-rouge">git branch my_branch</code></p> </li> <li> <p>checkout my_branch, then you switch to my_branch. What you add, commit will be in my_branch: <code class="language-plaintext highlighter-rouge">git checkout my_branch</code></p> </li> <li> <p>add file to my_branch, this command just add file to staging area: <code class="language-plaintext highlighter-rouge">git add file1.txt</code> add all untracked files to my_branch: <code class="language-plaintext highlighter-rouge">git add -A</code> adds all modified and new (untracked) files in the current directory and all subdirectories to the staging area (a.k.a. the index), thus preparing them to be included in the next git commit . <code class="language-plaintext highlighter-rouge">git add .</code> remove a file form staging area: <code class="language-plaintext highlighter-rouge">git reset file1.txt</code> remove all staging file: <code class="language-plaintext highlighter-rouge">git reset</code></p> </li> <li> <p>commit file to repository: <code class="language-plaintext highlighter-rouge">git commit -m “some information”</code></p> </li> <li> <p>merge my_branch to master <code class="language-plaintext highlighter-rouge">git checkout master</code> <code class="language-plaintext highlighter-rouge">git merge my_branch</code></p> </li> <li> <p>Now, you have two branch in you local repository: master and my_branch. If you want to push them to remote repository, then: <code class="language-plaintext highlighter-rouge">git push origin master</code> or <code class="language-plaintext highlighter-rouge">git push origin my_branch</code></p> </li> <li> <p>check log what you have done: <code class="language-plaintext highlighter-rouge">git log</code> Every push have a hash key, Unique hash key.</p> </li> <li> <p>if you company have already a remote repo, you can clone that by: <code class="language-plaintext highlighter-rouge">git clone &lt;url&gt; &lt;where to clone&gt;</code></p> </li> <li> <p>show remote repo information: <code class="language-plaintext highlighter-rouge">git remote -v</code></p> </li> <li> <p>before you push you repo to remote, should pull remote repo to local first: <code class="language-plaintext highlighter-rouge">git pull origin master</code> then <code class="language-plaintext highlighter-rouge">git push origin master</code></p> </li> <li>Branch list all branch in repository: <code class="language-plaintext highlighter-rouge">git branch</code> </li> <li>list all branch including remote repository: <code class="language-plaintext highlighter-rouge">git branch -a</code> </li> <li>create my_branch: <code class="language-plaintext highlighter-rouge">git branch my_branch</code> </li> <li>check out branch, means you are on my_branch now: <code class="language-plaintext highlighter-rouge">git checkout my_branch</code> </li> <li>check which branch merge: <code class="language-plaintext highlighter-rouge">git branch --merged</code> </li> <li>delete branch my_branch: <code class="language-plaintext highlighter-rouge">git branch -d my_branch</code> </li> <li>delete remote branch: <code class="language-plaintext highlighter-rouge">git push origin --delete my_branch</code> </li> </ul> <h3 id="programer-daily-routine">Programer daily routine:</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch day_branch
git checkout day_branch
// Do coding …
git status
git add -A
git commit -m “one day work…”
git push -u origin day_branch
git checkout master
git pull origin master
git merge day_branch
git push origin master
</code></pre></div></div> <h2 id="reference">Reference</h2> <ul> <li><a href="https://git-scm.com/" rel="external nofollow noopener" target="_blank">git-scm doc</a></li> <li><a href="https://github.com/git-ecosystem/git-credential-manager/tree/main/docs" rel="external nofollow noopener" target="_blank">git-credential-manager doc</a></li> <li><a href="https://www.cloudbees.com/blog/git-detached-head" rel="external nofollow noopener" target="_blank">cloudbees doc</a></li> </ul> </div> </article> </div> <div class="col-sm-3 post-side-container"> <div class="card hoverable"> <div class="card-body post-side-detail"> <h5 class="card-title">Post Detail</h5> <div class="detail-item"> <div class="item-title">Published : </div> <div class="item-content">Jul 11, 2020</div> </div> <div class="detail-item"> <div class="item-title">Category : </div> <div class="item-content"> <a href="/blog/category/git"> <i class="fas fa-tag fa-sm"></i> Git</a> </div> </div> <div class="detail-item"> <div class="item-title">Tags : </div> </div> <div class="tags"> <a href="/blog/tag/git"> <div class="tag"> Git </div> </a> <a href="/blog/tag/overview"> <div class="tag"> Overview </div> </a> </div> <div class="detail-item"> <div class="item-title">Content : </div> </div> <div class="toc-container"> <div class="toc-item"> <a href="#what-is-git"> # What is Git </a> </div> <div class="toc-item"> <a href="#three-states"> # Three States </a> </div> <div class="toc-item"> <a href="#git-repository"> # Git Repository </a> </div> <div class="toc-item"> <a href="#organize-commits"> # Organize commits </a> </div> <div class="toc-item"> <a href="#credential"> # Credential </a> </div> <div class="toc-item"> <a href="#what-is-gcm"> # What is GCM </a> </div> <div class="toc-item"> <a href="#basic-git-operations"> # Basic git operations </a> </div> <div class="toc-item"> <a href="#reference"> # Reference </a> </div> </div> </div> </div> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Ben Wen. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="/assets/js/jquery.min.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="/assets/js/tex-mml-chtml.js?d41d8cd98f00b204e9800998ecf8427e"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>